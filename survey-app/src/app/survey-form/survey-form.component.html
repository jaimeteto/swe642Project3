<div class="container my-5">
  <h2 class="text-center mb-4">Student Survey Form</h2>
  <form  #currentForm="ngForm"(ngSubmit)="submitForm(currentForm)" novalidate>
    <!-- First Name -->
    <div class="mb-3">
      <label for="firstName" class="form-label" >First Name:</label>
      <input
        type="text"
        id="firstName"
        class="form-control"
        [(ngModel)]="survey.firstName"
        name="firstName"
        required
      />
      <div *ngIf="currentForm.submitted && currentForm.controls['firstName']?.invalid">
        <small class="error">First name is required.</small>
      </div>
    </div>

    <!-- Last Name -->
    <div class="mb-3">
      <label for="lastName" class="form-label">Last Name:</label>
      <input
        type="text"
        id="lastName"
        class="form-control"
        [(ngModel)]="survey.lastName"
        name="lastName"
        required
      />
      <div *ngIf="currentForm.submitted && currentForm.controls['lastName']?.invalid">
        <small class="error">Last name is required.</small>
      </div>
    </div>

    <!-- Street Address -->
    <div class="mb-3">
      <label for="streetAddress" class="form-label">Street Address:</label>
      <input
        type="text"
        id="streetAddress"
        class="form-control"
        [(ngModel)]="survey.streetAddress"
        name="streetAddress"
      />
      <div *ngIf="currentForm.submitted && currentForm.controls['streetAddress']?.invalid">
        <small class="error">Street Address is required.</small>
      </div>
    </div>

    <!-- City -->
    <div class="mb-3">
      <label for="city" class="form-label">City:</label>
      <input
        type="text"
        id="city"
        class="form-control"
        [(ngModel)]="survey.city"
        name="city"
      />
      <div *ngIf="currentForm.submitted && currentForm.controls['city']?.invalid">
        <small class="error">city is required.</small>
      </div>
    </div>

    <!-- State -->
    <div class="mb-3">
      <label for="state" class="form-label">State:</label>
      <input
        type="text"
        id="state"
        class="form-control"
        [(ngModel)]="survey.state"
        name="state"
      />
      <div *ngIf="currentForm.submitted && currentForm.controls['state']?.invalid">
        <small class="error">State is required.</small>
      </div>
    </div>

    <!-- ZIP -->
    <div class="mb-3">
      <label for="zip" class="form-label">ZIP:</label>
      <input
        type="text"
        id="zip"
        class="form-control"
        [(ngModel)]="survey.zip"
        name="zip"
      />
    </div>

    <!-- Telephone -->
    <div class="mb-3">
      <label for="telephone" class="form-label">Telephone:</label>
      <input
        type="text"
        id="telephone"
        class="form-control"
        [(ngModel)]="survey.telephone"
        name="telephone"
      />
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label for="email" class="form-label">Email:</label>
      <input
        type="email"
        id="email"
        class="form-control"
        [(ngModel)]="survey.email"
        name="email"
        required
      />
      <div *ngIf="currentForm.submitted && currentForm.controls['email']?.invalid">
        <small class="error">email is required.</small>
      </div>
    </div>

    <!-- Date of Survey -->
    <div class="mb-3">
      <label for="dateOfSurvey" class="form-label">Date of Survey:</label>
      <input
        type="date"
        id="dateOfSurvey"
        class="form-control"
        [(ngModel)]="survey.dateOfSurvey"
        name="dateOfSurvey"
        required
      />
      <div *ngIf="currentForm.submitted && currentForm.controls['dateOfSurvey']?.invalid">
        <small class="error">valid date is required.</small>
      </div>
    </div>

    <!-- What did you like most about the campus? -->
    <div class="mb-3">
      <label class="form-label">What did you like most about the campus?</label>
      <div class="form-check" *ngFor="let feature of likedFeaturesOptions">
        <input
          type="checkbox"
          class="form-check-input"
          [checked]="survey.getLikedFeaturesArray().includes(feature)"
          (change)="toggleLikedFeature(feature)"
          id="{{ feature }}"
        />
        <label class="form-check-label" for="{{ feature }}">{{ feature }}</label>
      </div>
    </div>

    <!-- How did you become interested in the university? -->
    <div class="mb-3">
      <label class="form-label">How did you become interested in the university?</label>
      <div *ngFor="let source of interestSources" class="form-check">
        <input
          type="radio"
          class="form-check-input"
          [(ngModel)]="survey.interestSource"
          [value]="source"
          name="interestSource"
          id="{{ source }}"
        />
        <label class="form-check-label" for="{{ source }}">{{ source }}</label>
      </div>
    </div>

    <!-- Likelihood of recommending the school -->
    <div class="mb-3">
      <label for="recommendation" class="form-label">Likelihood of recommending the school:</label>
      <select
        id="recommendation"
        class="form-select"
        [(ngModel)]="survey.recommendation"
        name="recommendation"
        required
      >
        <option *ngFor="let option of recommendations" [value]="option">
          {{ option }}
        </option>
      </select>
      <div *ngIf="currentForm.submitted && currentForm.controls['recommendation']?.invalid">
        <small class="error">picking an option is required.</small>
      </div>
    </div>

    <!-- Additional Comments -->
    <div class="mb-3">
      <label for="additionalComments" class="form-label">Additional Comments:</label>
      <textarea
        id="additionalComments"
        class="form-control"
        [(ngModel)]="survey.additionalComments"
        name="additionalComments"
      ></textarea>
    </div>

    <!-- Buttons -->
    <div class="mb-3">
      <button type="submit" class="btn btn-primary">Submit</button>
      <button type="button" class="btn btn-secondary" (click)="cancelForm()">Cancel</button>
    </div>
  </form>
</div>
